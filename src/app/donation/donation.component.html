<div class="container">

  <nav class="navbar navbar-expand-sm bg-light justify-content-center sticky-top container">
    <ul class="navbar-nav">
      <li class="nav-item">
      </li>
      <li class="nav-item">
        <a class="contulMeuButon" href="my-account"><i class="ion-ios-arrow-down"></i>{{clientName}}</a>
      </li>

      <li class="nav-item">
        <span class="contulMeu ml-2"> <a href="my-account"
                                         style="color: black;text-decoration: none">My Account</a></span>
      </li>

      <li class="nav-item">
        <a href="/log-in" (click)="logout()"> <img src="assets/img/logout.png" class="shoppingCart"></a>
      </li>

      <li class="nav-item">
        <a class="navbar-brand" href="/products"> <strong>ELCTRNX</strong></a>
      </li>

      <span matBadge="{{getNumberOfItemsInCart()}}" matBadgeSize="small" matBadgeColor=""
            style="position: absolute; top: 25px; left: 815px">  </span>

      <li class="nav-item">
        <a href="/shopping-cart"> <img src="assets/img/supermarket.png" class="shoppingCart"></a>
      </li>

      <li class="nav-item">
        <a (click)="favorites()"> <img src="assets/img/heart.png" class="shoppingCart"></a>
      </li>
    </ul>
  </nav>

  <div class="mapDiv container mt-5">
    <agm-map [scrollwheel]="true" [zoom]="6" [latitude]="lat" [longitude]="lng" id="map" class="donationImage"
             (mapClick)="onChoseLocation($event)">

      <div *ngFor="let agmInfo of agmMarkers">
        <agm-marker [openInfoWindow]="true" [latitude]=agmInfo.lat [longitude]=agmInfo.lng>
          <agm-info-window>
            <div style="margin-bottom: 8px;">
              <p style="font-weight: bold; font-size: 20px; text-align: center; margin-bottom: 8px">
                Fam. {{agmInfo.name}}</p>
              <a [hidden]="!hasDonationsResponsibleRole"
                 (click)="openDialogDeleteAgmMarker(agmInfo.name, agmInfo.agmInfoId)" data-toggle="tooltip"
                 data-placement="right" title="Delete family"
                 style="position: relative; left: 45%; transform: translate(-50%);"><i class="fas fa-trash"></i></a>
            </div>
            <p style="font-weight: bold; font-size: 16px; text-align: center"> {{agmInfo.numberOfDonations}}/12 </p>
            <div class="progress" style="width: 100%">
              <div class="progress-bar progress-bar-striped bg-info" role="progressbar"
                   [style.width]="getPercentageById(agmInfo.agmInfoId)"
                   aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
              </div>
            </div>
            <button
              (click)="modalFunction(); setLastVisitedAgmNumberOfDonationsAndId(agmInfo.numberOfDonations, agmInfo.agmInfoId, agmInfo.name)"
              style="position: relative; left: 52%; transform: translate(-50%,0%)" type="button"
              class="btn btn-success btn-sm mt-3" [disabled]="agmInfo.numberOfDonations===12">Donate
            </button>
          </agm-info-window>
        </agm-marker>
      </div>
    </agm-map>
  </div>
</div>

<!--<h2 style="text-align: center; top: 69vh; position: relative; font-family: 'Montserrat', sans-serif;"> DonaÈ›ia ta poate-->
<!--  ajuta...</h2>-->

<!--<h2 class="donationText">-->
<!--  Este regretabil-->
<!--  ca in prezent, in Romania, exista zeci de mii de oameni care sufera de foame. Intr-o societate responsabila, orice-->
<!--  persoana, printr-un gest simplu, poate sa acorde un ajutor celor dezavantajati, care nu isi pot procura singuri-->
<!--  hrana. <a style="color:#28A745; font-weight: bold; cursor: context-menu">Doneaza</a> acum si ajuta una sau mai multe-->
<!--  familii si vei primi o <a-->
<!--  style="color: #139CE0; font-weight: bold; cursor: context-menu">reducere</a> direct proportionala cu suma <a-->
<!--  style="color: #28A745; font-weight: bold; cursor: context-menu">donata</a></h2>-->

<h2 class="donationText">
  It is unfortunate that there are currently tens of thousands of people suffering from hunger in Romania. In a responsible society, any person, with a simple gesture, can
  help the disadvantaged, who are unable to feed themselves. <a style="color:#28A745; font-weight: bold; cursor: context-menu"> Donate </a>
  now and help one or more families and you will receive a proportional <a style="color: #139CE0; font-weight: bold; cursor: context-menu"> discount </a> to the
  <a style="color: #28A745; font-weight: bold; cursor: context-menu"> donated </a> amount.
</h2>

<div class="container donationBoxes">

  <div id="stanga">
    <h3 class="donationBoxesTextAmount">300 Lei</h3>
    <p class="donationBoxesText">Help a family to overcome hunger for <a
      style="font-weight: bolder; color: #E10006; cursor: context-menu">a month</a>, and your donation will get you a discount of <a
        style="color: #E10006; font-weight: bold; cursor: context-menu">3%</a> on all ordered products</p>
  </div>
  <div id="mijloc">
    <h3 class="donationBoxesTextAmount">1800 Lei</h3>
    <!--    <p class="donationBoxesText">Fii ingerul pazitor al unei familii timp de sase luni</p>-->
    <p class="donationBoxesText">Help a family to overcome hunger for <a
      style="font-weight: bolder; color: #E10006; cursor: context-menu">6 months</a>, and your donation will get you a discount of <a
      style="color: #E10006; font-weight: bold; cursor: context-menu">10%</a> on all ordered products</p>
  </div>
  <div id="dreapta">
    <h3 class="donationBoxesTextAmount">3600 Lei</h3>
    <!--    <p class="donationBoxesText">Fii ingerul pazitor al unei familii timp de un an</p>-->
    <p class="donationBoxesText">Help a family to overcome hunger for <a
      style="font-weight: bolder; color: #E10006; cursor: context-menu">one year</a>, and your donation will get you a discount of <a
      style="color: #E10006; font-weight: bold; cursor: context-menu">20%</a> on all ordered products</p>
  </div>

</div>

<h2 style="text-align: center; top: 82vh; position: relative; font-family: 'Montserrat', sans-serif;"> Your donation makes the difference...</h2>

<div class="donationImageDiv container mt-5">
  <!--    <div id="donationImageLeft">-->
  <!--      <img style="max-width: 100%; max-height: 100%; min-width: 100%; min-height: 100%" src="../../assets/img/hunger.jpg">-->

  <img style="max-width: 100%; max-height: 100%!important; min-width: 100%; min-height: 100%"
       src="../../assets/img/providence-doucet-5za6niH4qpw-unsplash.jpg">

  <!--    </div>-->
  <!--    <div id="donationImageRight">-->
  <img style="max-width: 100%; max-height: 100%; min-width: 100%"
       src="../../assets/img/front-row-volunteer.png">
  <!--  <img style="max-width: 100%; max-height: 100%; min-width: 100%" src="../../assets/img/yannis-h-uaPaEM7MiQQ-unsplash.jpg">-->
  <!--    </div>-->
</div>

<div id="footer" class="container mb-5" >
  <h2 class="mt-5" style="text-align: center;  font-family: 'Montserrat', sans-serif;">It's never been easier to help</h2>

  <h2 class="detailsText mt-5">
    Each checkmark on the map represents a family that needs your help! By choosing a checkmark on the map you will be able to see the details of a family in need.
    The details consist of the name of the family and the number of months they have been helped to overcome hunger during the year.
  </h2>
  <br/>
  <h2 style="color: red; text-align-last: center; text-align: justify; font-family: 'Montserrat', sans-serif; font-size: 22px; cursor: auto">
    The objective is for each family to reach 12 months in which they have been helped (12/12 per checkmark). </h2> <br/>
  <h2 class="detailsText mb-5">
    You can choose to help a family for one month, 6 months or even a whole year. You can donate to a specific family by clicking on the indicator on the map
    or you can choose to donate to a randomly selected family from those who need help.
  </h2>
</div>

<div id="footerTwo" class="container"></div>

<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">

<div id="myModal" class="modal" id="exampleModalCenter" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true" *ngIf="showModal">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 style="position: absolute; color: black; left: 50%; transform: translate(-50%)" class="modal-title"
            id="exampleModalLongTitle">Choose your option</h4>
        <button class="close" (click)="modalFunction();"><i class="far fa fa-times pt-1"></i></button>
      </div>
      <div class="modal-body" id="outer">
        <div class="inner">
          <button (click)="modalFunction(); openDialogSubmitDonation(300)"
                  [disabled]="isDonationPossible(1)" type="button" class="btn btn-success btn mt-3">300Lei (1 month)
          </button>
        </div>
        <div class="inner">
          <button (click)="modalFunction(); openDialogSubmitDonation(1800)"
                  [disabled]="isDonationPossible(6)" type="button" class="btn btn-success btn mt-3">1800Lei (6 months)
          </button>
        </div>
        <div class="inner">
          <button (click)="modalFunction(); openDialogSubmitDonation(3600)"
                  [disabled]="isDonationPossible(12)" type="button" class="btn btn-success btn mt-3">3600Lei (1 year)
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="myInfoModal" class="modal" id="exampleInfoModalCenter" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true" *ngIf="showInfoModal">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div style="min-height: 150px; min-width: 200px" class="modal-content">
      <div class="modal-body" id="infoOuter" style="position: relative">
<!--        <h4 style="position: absolute; color: black; left: 50%; transform: translate(-50%); font-size: large; min-width: 80%" class="modal-title"-->
        <h4 style="font-size: large; min-width: 80%; text-align: center" class="modal-title"
            id="exampleInfoModalLongTitle">A new donation will be possible only after you place a new order</h4>
        <div class="innerInfo">
          <button (click)="modalInfoFunction();"
                  type="button" class="btn iUnderstandButton btn mt-3">I understand
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<button [hidden]="!hasDonationsResponsibleRole" (click)="openDialog()" data-toggle="tooltip" data-placement="bottom"
        title="Add Family" id="butonAdaugare"
        style="position: absolute; top: 150px; right: 76px"><i class="fa fa-plus fa-3x" aria-hidden="true"></i></button>
