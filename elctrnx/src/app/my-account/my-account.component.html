<div class="container emp-profile polaroid">

  <form [formGroup]="accountEditForm" style="margin-top: 4.5%">
    <div class="row">
      <div class="col-md-4">
        <div class="profile-img">
          <img src="/assets/img/no_profile_picture.png" alt="no_profile " height="230" width="230"/>
          <div class="file btn btn-lg btn-primary">
            Change Photo
            <input type="file" name="file"/>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="profile-head">
          <div style="display: inline-flex; min-width: 250px">
            <h4 style="margin-top: -0.1em">
              Your account data
            </h4>
            <button type="button"  class="btn btn-edit-profile" style="margin-top: -2%; outline: none;"><i
              class="fas fa-user-edit fa-lg"></i></button>

          </div>

          <h6 *ngIf="!isAdmin" class="mt-2">Client</h6>
          <h6 *ngIf="isAdmin" class="mt-2">Administrator</h6>
          <p class="proile-rating">Thank you for being our customer for : <span>{{hoar}}</span></p>

          <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="home-tab" (click)="disableEdit()" data-toggle="tab" href="#home" role="tab" aria-controls="home"
                 aria-selected="true">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="profile-tab" (click)="enableEdit()" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
                 aria-selected="false">Edit</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-2">
        <a (click)="goBack()" style="cursor: pointer"> <img src="assets/img/back-button.png" class="profile-return-btn-btn ml-2"></a>
      </div>
    </div>
    <div class="row">
      <div class="col-md-4">
        <div class="profile-work">
          <h5 class="mt-2 mb-3">DETAILS</h5>

          <div class="mb-2"><a href="" class="mb-2">My account</a><br/></div>
          <div class="mb-2"><a href="" class="mb-2">My orders</a><br/></div>
          <div class="mb-2"><a href="listing-products-favorites" class="mb-2">Favorites</a></div>
        </div>
      </div>

      <div class="col-md-8">
        <div class="tab-content profile-tab" id="myTabContent">
          <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">

            <div class="row mt-2">
              <div class="col-md-6">
                <label>Username</label>
              </div>
              <div class="col-md-6">
                <input *ngIf="isEditingEnabled" class="inputs" formControlName="username">
                <input *ngIf="!isEditingEnabled" readonly="true" class="inputsNonEdit" formControlName="username">
              </div>
            </div>

            <span class="pl-2"
                  [hidden]="!findInvalidControls('username')"> Username must contain at least 3 characters </span>

            <div class="row mt-2">
              <div class="col-md-6">
                <label>Full Name</label>
              </div>
              <div class="col-md-6">
                <input *ngIf="isEditingEnabled" class="inputs" formControlName="fullName">
                <input *ngIf="!isEditingEnabled" readonly="true" class="inputsNonEdit" formControlName="fullName">
              </div>
            </div>

            <span class="pl-2"
                  [hidden]="!findInvalidControls('fullName')"> Please enter your full name (exemple: "John Doe") </span>

            <div class="row mt-2">
              <div class="col-md-6">
                <label>Email</label>
              </div>
              <div class="col-md-6">
                <input *ngIf="isEditingEnabled" class="inputs" formControlName="email">
                <input *ngIf="!isEditingEnabled" readonly="true" class="inputsNonEdit" formControlName="email">
              </div>
            </div>

            <span class="pl-2"
                  [hidden]="!findInvalidControls('email')"> Email must contain the @ character </span>

            <div class="row mt-2">
              <div class="col-md-6">
                <label>Address</label>
              </div>
              <div class="col-md-6">
                <input *ngIf="isEditingEnabled" class="inputs" formControlName="fullName">
                <input *ngIf="!isEditingEnabled" readonly="true" class="inputsNonEdit" formControlName="fullName">
              </div>
            </div>

            <span class="pl-2"
                  [hidden]="!findInvalidControls('address')"> Address must contain at least 4 characters </span>

            <div *ngIf="isEditingEnabled" class="row mt-2">
              <div class="col-md-6">
                <label>Password</label>
              </div>
              <div class="col-md-6">
                <input class="inputs"  type="password" formControlName="password" value="">
               </div>
            </div>
            <span class="pl-2"
                  [hidden]="!findInvalidControls('password')"> Password must contain at least 2 characters </span>


            <div *ngIf="isEditingEnabled" class="row mt-2">
              <div class="col-md-6">
                <label>Confirm password</label>
              </div>
              <div class="col-md-6">
                <input class="inputs" type="password" formControlName="passwordConfirm">
              </div>
            </div>

            <span id="spanNonValid" class="pl-2"
                  [hidden]="!findInvalidControls('passwordConfirm')"> Password must contain at least 2 characters </span>

          </div>

            <div *ngIf="isEditingEnabled;">
             <button [disabled]="!accountEditForm.valid" (click)="updateUser()" id="check" class="fas fa-check fa-2x" data-toggle="tooltip" data-placement="top" title="Save changes"></button>
            </div>

          </div>
        </div>
      </div>
  </form>
</div>

